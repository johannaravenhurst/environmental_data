"0","alpha = 0.01"
"0","n_sims = 50"
"0",""
"0","p_vals = numeric(n_sims)"
"0",""
"0","n_effect_sizes = 20"
"0","effect_sizes = seq(-.01, .01, length.out = n_effect_sizes)"
"0",""
"0","# The maximum x value in the simulation."
"0","# Use the maximum observed x-value in the data"
"0","max_x = max(birdhab$ls)"
"0",""
"0","sample_sizes = seq(10, 50)"
"0",""
"0","sim_output_2 = matrix(nrow = length(effect_sizes), ncol = length(sample_sizes))"
"0",""
"0","for(k in 1:length(effect_sizes))"
"0","{"
"0","  effect_size = effect_sizes[k]"
"0","  for(j in 1:length(sample_sizes))"
"0","  {"
"0","    x_vals = seq(0, max_x, length.out = sample_sizes[j])"
"0","    "
"0","    for(i in 1:n_sims)"
"0","    {"
"0","      fit_sim = linear_sim_fit("
"0","        x = x_vals,"
"0","        y_int = int_obs,"
"0","        slope = effect_size,"
"0","        st_dev = sd_obs"
"0","      )"
"0","      p_vals[i] = summary(fit_sim)$coefficients[2, 'Pr(>|t|)']"
"0","    }"
"0","    sim_output_2[k, j] = sum(p_vals < alpha) / n_sims"
"0","  }"
"0","  print(paste0(""computing effect size "", k,"" of "", length(effect_sizes)))"
"0","}"
"1","[1]"
"1"," ""computing effect size 1 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 2 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 3 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 4 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 5 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 6 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 7 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 8 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 9 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 10 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 11 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 12 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 13 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 14 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 15 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 16 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 17 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 18 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 19 of 20"""
"1","
"
"1","[1]"
"1"," ""computing effect size 20 of 20"""
"1","
"
"0","sim_n_effect_size = "
"0","  list("
"0","    power = sim_output_2,"
"0","    effect_size = effect_sizes,"
"0","    sample_size = sample_sizes"
"0","  )"
